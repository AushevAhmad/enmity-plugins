const{components:e}=window.enmity;e.Alert,e.Button,e.FlatList,e.Image,e.ImageBackground,e.KeyboardAvoidingView,e.Modal,e.Pressable,e.RefreshControl;const y=e.ScrollView;e.SectionList,e.StatusBar,e.StyleSheet,e.Switch,e.Text,e.TextInput,e.TouchableHighlight,e.TouchableOpacity,e.TouchableWithoutFeedback,e.Touchable,e.View,e.VirtualizedList,e.Form,e.FormArrow,e.FormCTA,e.FormCTAButton,e.FormCardSection,e.FormCheckbox,e.FormDivider,e.FormHint,e.FormIcon,e.FormInput,e.FormLabel,e.FormRadio;const r=e.FormRow,w=e.FormSection;e.FormSelect,e.FormSubLabel;const p=e.FormSwitch;e.FormTernaryCheckBox,e.FormText,e.FormTextColors,e.FormTextSizes;function h(o){window.enmity.plugins.registerPlugin(o)}function v(o){return window.enmity.plugins.installPlugin(o)}function s(o,t,m){window.enmity.settings.set(o,t,m)}function l(o,t,m){return window.enmity.settings.get(o,t,m)}function S(o){return window.enmity.patcher.create(o)}var F="BetterTwitterEmbeds",b="1.1.2",T="Convert Twitter links to FxTwitter links so the tweet embed is better.",f=[{name:"spin",id:"308440976723148800"}],x="#ff0069",C="https://raw.githubusercontent.com/spinfal/enmity-plugins/master/dist/BetterTwitterEmbeds.js",d={name:F,version:b,description:T,authors:f,color:x,sourceUrl:C};window.enmity.modules.common.Constants,window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets;const _=window.enmity.modules.common.Messages;window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars,window.enmity.modules.common.Native;const n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher,window.enmity.modules.common.Storage,window.enmity.modules.common.Toasts;const E=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token,window.enmity.modules.common.REST,window.enmity.modules.common.Settings,window.enmity.modules.common.Users,window.enmity.modules.common.Navigation,window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking,window.enmity.modules.common.StyleSheet,window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;function B(o,t){return window.enmity.modules.getModule(o,t)}window.enmity.modules.common;const{native:i}=window.enmity;function k(){i.reload()}i.version,i.build,i.device,i.version;var P=({pluginUrl:o})=>n.createElement(r,{label:"Update Plugin",trailing:r.Arrow,onPress:()=>{console.log(o),v(`${o}?${Math.floor(Math.random()*1001)}.js`),E.show({title:"Plugin Update",body:"Updating the plugin using this button will require you to reload Discord. Would you like to reload Discord now?",confirmText:"Yep!",cancelText:"Later",onConfirm:k})}});function c(o){return window.enmity.assets.getIDByName(o)}const u=B(o=>o.open!==void 0&&o.close!==void 0&&!o.openLazy&&!o.startDrag&&!o.init&&!o.openReplay&&!o.openChannelCallPopout),g=S("BTE"),L={...d,onStart(){try{l("_twitter","_type",!1)||s("_twitter","_type","fxtwitter"),g.before(_,"sendMessage",(o,t,m)=>{const a=t[1].content;!a.match(/http(s)?:\/\/twitter.com\/\w{4,15}\/status\/\d+/gim)||(t[1].content=a.replace(/http(s)?:\/\/twitter.com/gim,`https://${l("_twitter","_type",!1)}.com`))})}catch(o){console.log("[ BetterTwitterEmbeds Error ]",o)}},onStop(){g.unpatchAll()},patches:[],getSettingsPanel({settings:o}){return n.createElement(y,{settings:o},n.createElement(w,{title:"Settings"},n.createElement(r,{label:"Use vxtwitter.com instead of fxtwitter.com",leading:n.createElement(r.Icon,{source:c("toast_copy_link")}),trailing:n.createElement(p,{value:o.getBoolean("_vxtwitter",!1),onValueChange:()=>{try{o.toggle("_vxtwitter",!1),o.getBoolean("_vxtwitter",!1)?s("_twitter","_type","vxtwitter"):s("_twitter","_type","fxtwitter"),u.open({content:`Switched to ${l("_twitter","_type",!1)}.`,source:c("check")})}catch(t){console.log("[ BetterTwitterEmbeds Error ]",t),u.open({content:"An error has occurred. Check debug logs for more info.",source:c("Small")})}}})})),n.createElement(w,{title:"Plugin"},n.createElement(P,{pluginUrl:d.sourceUrl})))}};h(L);
