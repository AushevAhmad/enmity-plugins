function J(e,t,s){window.enmity.settings.set(e,t,s)}function K(e,t,s){return window.enmity.settings.get(e,t,s)}function Q(e){window.enmity.plugins.registerPlugin(e)}const d=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars;const y=window.enmity.modules.common.Native,n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher;const b=window.enmity.modules.common.Storage,v=window.enmity.modules.common.Toasts,_=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token;const x=window.enmity.modules.common.REST;window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const Z=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const N=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const{components:o}=window.enmity;o.Alert,o.Button,o.FlatList;const A=o.Image;o.ImageBackground,o.KeyboardAvoidingView,o.Modal,o.Pressable,o.RefreshControl;const O=o.ScrollView;o.SectionList,o.StatusBar,o.StyleSheet,o.Switch;const g=o.Text;o.TextInput,o.TouchableHighlight;const w=o.TouchableOpacity;o.TouchableWithoutFeedback,o.Touchable;const h=o.View;o.VirtualizedList,o.Form,o.FormArrow,o.FormCTA,o.FormCTAButton,o.FormCardSection,o.FormCheckbox;const D=o.FormDivider;o.FormHint,o.FormIcon,o.FormInput,o.FormLabel,o.FormRadio;const l=o.FormRow,F=o.FormSection;o.FormSelect,o.FormSubLabel;const ee=o.FormSwitch;o.FormTernaryCheckBox,o.FormText,o.FormTextColors,o.FormTextSizes;const S={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,t)=>window.enmity.modules.filters.byName(e,t),byTypeName:(e,t)=>window.enmity.modules.filters.byTypeName(e,t),byDisplayName:(e,t)=>window.enmity.modules.filters.byDisplayName(e,t)};function M(...e){return window.enmity.modules.bulk(...e)}function te(...e){return window.enmity.modules.getByProps(...e)}window.enmity.modules.common;const C=e=>{let t=0;for(let s in e)t++;return t};function a(e){return window.enmity.assets.getIDByName(e)}const u={Debug:a("debug"),Retry:a("ic_message_retry"),Failed:a("Small"),Cancel:a("ic_megaphone_nsfw_16px"),Add:a("add_white"),Delete:a("ic_message_delete"),Clear:a("ic_clear_all_24px"),Pencil:a("ic_pencil_24px"),Success:a("ic_selection_checked_24px"),Copy:a("toast_copy_link"),Open:a("ic_leave_stage"),Clipboard:a("pending-alert"),Initial:a("coffee"),Debug_Command:{Sent:a("ic_application_command_24px"),Clock:a("clock")},Settings:{Toasts:{Context:a("toast_image_saved"),Settings:a("ic_selection_checked_24px")},Self:a("friends_toast_icon"),Share:a("share"),Robot:a("ic_robot_24px"),Commands:a("ic_profile_badge_bot_commands"),Debug:a("ic_rulebook_16px")}},I=e=>{v.open({content:`Copied ${e} to clipboard.`,source:u.Clipboard})},ne=e=>{let t=e.split(`
`).map(s=>{if(s!="")return`"${s.replaceAll(":",'":"').replace(" ","")}",`});return t[0]=`{${t[0]}`,t[C(t)]=`${t[C(t)]}}`,t=t.join(""),t=t.replaceAll("undefined",""),t=t.split("").reverse().join("").replace(",","").split("").reverse().join(""),t};async function oe(){try{let e=await b.getItem("device_list");if(e)return JSON.parse(e);let t=(await x.get("https://gist.githubusercontent.com/adamawolf/3048717/raw/1ee7e1a93dff9416f6ff34dd36b0ffbad9b956e9/Apple_mobile_device_types.txt")).text,s=ne(t);await b.setItem("device_list",s);let r=await b.getItem("device_list");return JSON.parse(r)}catch(e){console.warn(`[SpinsPlugins Local Error \u2014 Issue when getting devices: ${e}]`);return}}async function ie(e,t,s){let r=await oe();return`**[${e}] Debug Information**
> **Plugin Version:** ${t}
> **Plugin Build:** ${s.split("-")[1]}
> **Discord Build:** ${y.InfoDictionaryManager.Version} (${y.InfoDictionaryManager.Build})
> **Software Version:** ${y.DCDDeviceManager.systemVersion}
> **Device:** ${r[y.DCDDeviceManager.device]}`}const{native:f}=window.enmity;function se(){f.reload()}f.version,f.build,f.device,f.version;const re=te("transitionToGuild");async function ae({manifest:e}){const t=`${e.sourceUrl}?${Math.floor(Math.random()*1001)}.js`,s=await(await x.get(t)).text;let r=s.match(/\d\.\d\.\d+/g),i=s.match(/patch\-\d\.\d\.\d+/g);return!r||!i?k(e.name,e.version):(r=r[0],i=i[0],r!=e.version?U(t,r,i.split("-")[1],e,!1):i!=e.build?U(t,r,i.split("-")[1],e,!0):k(e.name,e.version))}const U=(e,t,s,r,i)=>{const c=i?s:t;_.show({title:"Update found",body:`A newer ${i?"build":"version"} is available for ${r.name}. ${i?`
The version will remain at ${t}, but the build will update to ${s}.`:""}
Would you like to install ${i?`build \`${s}\``:`version \`${t}\``}  now?`,confirmText:"Update",cancelText:"Not now",onConfirm:()=>le(e,c,r,i)})},k=(e,t)=>{console.log(`[${e}] Plugin is on the latest version, which is ${t}`),v.open({content:`${e} is on latest version (${t})`,source:u.Success})};async function le(e,t,s,r){window.enmity.plugins.installPlugin(e,({data:i})=>{i=="installed_plugin"||i=="overridden_plugin"?_.show({title:`Updated ${s.name}`,body:`Successfully updated to ${r?"build":"version"} \`${t}\`. 
Would you like to reload Discord now?`,confirmText:"Yep!",cancelText:"Not now",onConfirm:()=>{se()}}):_.show({title:"Error",body:`Something went wrong while updating ${s.name}.`,confirmText:"Report this issue",cancelText:"Cancel",onConfirm:()=>{re.openURL(`https://github.com/spinfal/enmity-plugins/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBUG%5D%20${s.name}%20Update%20Error%3A%20${r?`b${t}`:`v${t}`}`)}})})}const E=window.enmity.modules.common.Components.General.Animated,[$,ce]=M(S.byProps("transitionToGuild"),S.byProps("setString"));var me=({manifest:e})=>{const t=N.createThemedStyleSheet({container:{paddingTop:30,paddingLeft:20,marginBottom:-5,flexDirection:"row"},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},image:{width:75,height:75,borderRadius:10},main_text:{opacity:.975,letterSpacing:.25,fontFamily:d.Fonts.DISPLAY_NORMAL},header:{color:d.ThemeColorMap.HEADER_PRIMARY,fontFamily:d.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:d.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),s=n.useRef(new E.Value(1)).current,r=()=>{E.spring(s,{toValue:1.1,duration:250,useNativeDriver:!0}).start()},i=()=>{E.spring(s,{toValue:1,duration:250,useNativeDriver:!0}).start()},c=()=>{$.openURL("https://spin.rip/")},p={transform:[{scale:s}]};return n.createElement(n.Fragment,null,n.createElement(h,{style:t.container},n.createElement(w,{onPress:c,onPressIn:r,onPressOut:i},n.createElement(E.View,{style:[p]},n.createElement(A,{style:[t.image],source:{uri:"https://cdn.spin.rip/r/l9uevwe4ia0.jpg"}}))),n.createElement(h,{style:t.text_container},n.createElement(w,{onPress:()=>{$.openURL(e.sourceUrl)}},n.createElement(g,{style:[t.main_text,t.header]},e.name," ")),n.createElement(h,{style:{flexDirection:"row"}},n.createElement(g,{style:[t.main_text,t.sub_header]},"A plugin by"),n.createElement(w,{onPress:()=>{$.openURL("https://spin.rip/")}},n.createElement(g,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD}]},e.authors[0].name))),n.createElement(h,{style:{flexDirection:"row"}},n.createElement(g,{style:[t.main_text,t.sub_header]},"Settings page by"),n.createElement(w,{onPress:()=>{$.openURL("https://github.com/acquitelol/")}},n.createElement(g,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD}]},"Rosie<3"))),n.createElement(h,null,n.createElement(w,{style:{flexDirection:"row"},onPress:()=>{ce.setString(`**${e.name}** v${e.version}`),I("plugin name and version")}},n.createElement(g,{style:[t.main_text,t.sub_header]},"Version:"),n.createElement(g,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:d.Fonts.DISPLAY_BOLD}]},e.version," "))))))};const[ue,T]=M(S.byProps("transitionToGuild"),S.byProps("setString"));var de=({manifest:e,settings:t,hasToasts:s,children:r,commands:i})=>{const c=N.createThemedStyleSheet({bottom_padding:{paddingBottom:25},icon:{color:d.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:d.ThemeColorMap.TEXT_MUTED},text_container:{display:"flex",flexDirection:"column"}}),[p,X]=n.useState(),[R,q]=n.useState();return n.createElement(n.Fragment,null,n.createElement(O,{onTouchStart:m=>{X(m.nativeEvent.pageX),q(m.nativeEvent.pageY)},onTouchEnd:m=>{p-m.nativeEvent.pageX<-100&&R-m.nativeEvent.pageY<40&&R-m.nativeEvent.pageY>-40&&Z.pop()}},n.createElement(me,{manifest:e}),r,i&&n.createElement(F,{title:"Plugin Commands"},i.map(m=>n.createElement(l,{label:`/${m.name}`,subLabel:m.description,leading:n.createElement(l.Icon,{style:c.icon,source:u.Settings.Commands}),trailing:l.Arrow,onPress:function(){T.setString(`/${m.name}`),I(`the command ${m.name}`)}}))),n.createElement(F,{title:"Utility"},s&&n.createElement(n.Fragment,null,n.createElement(l,{label:"Initialization Toasts",leading:n.createElement(l.Icon,{style:c.icon,source:u.Settings.Toasts.Context}),subLabel:`If available, show toasts when ${e.name} is starting`,trailing:n.createElement(ee,{value:t.getBoolean(`${e.name}-toastEnable`,!1),onValueChange:()=>{t.toggle(`${e.name}-toastEnable`,!1),v.open({content:`Successfully ${t.getBoolean(`${e.name}-toastEnable`,!1)?"enabled":"disabled"} initialization toasts.`,source:u.Success})}})}),n.createElement(D,null)),n.createElement(l,{label:"Copy Debug Info",subLabel:`Copy useful debug information of ${e.name} to clipboard.`,leading:n.createElement(l.Icon,{style:c.icon,source:u.Settings.Debug}),trailing:l.Arrow,onPress:async function(){T.setString(await ie(e.name,e.version,e.build)),I("plugin debug information")}}),n.createElement(D,null),n.createElement(l,{label:"Clear Device List Cache",subLabel:"Remove the fetched device list storage. This will not clear Discord's or your iDevice's cache.",leading:n.createElement(l.Icon,{style:c.icon,source:u.Delete}),trailing:l.Arrow,onPress:async function(){await b.removeItem("device_list"),v.open({content:"Cleared device list storage.",source:u.Success})}})),n.createElement(F,{title:"Source"},n.createElement(l,{label:"Check for Updates",subLabel:`Check for any plugin updates for ${e.name}.`,leading:n.createElement(l.Icon,{style:c.icon,source:u.Copy}),trailing:l.Arrow,onPress:()=>{ae({manifest:e})}}),n.createElement(D,null),n.createElement(l,{label:"Source",subLabel:`View ${e.name} source code`,leading:n.createElement(l.Icon,{style:c.icon,source:u.Open}),trailing:l.Arrow,onPress:()=>{ue.openURL(`https://github.com/spinfal/enmity-plugins/tree/master/${e.name}`)}})),n.createElement(l,{style:c.bottom_padding,label:`Plugin Version: ${e.version}
Plugin Build: ${e.build.split("-").pop()}`})))},ge="GotFeet",we="1.0.1",he="patch-1.0.1",fe="Get a post of some feet from r/feet",ye=[{name:"spin",id:"308440976723148800"}],be="#ff0069",ve="https://raw.githubusercontent.com/spinfal/enmity-plugins/master/dist/GotFeet.js",V={name:ge,version:we,build:he,description:fe,authors:ye,color:be,sourceUrl:ve};function G(e,t,s,r){window.enmity.clyde.sendReply(e,t,s,r)}var Y;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(Y||(Y={}));var P;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(P||(P={}));var L;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(L||(L={}));var j;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(j||(j={}));var B;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(B||(B={}));var W;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(W||(W={}));const z=["feet","feetpics","NSFW_Feet","Feet_NSFW"],_e={id:"feet-command",name:"feet",displayName:"feet",description:"Get an image of a feet",displayDescription:"Get an image of a feet",type:P.Chat,inputType:L.BuiltInText,options:[{name:"whisper",displayName:"whisper",description:"Only you can see the result",displayDescription:"Only you can see the result",type:B.Boolean,required:!1}],execute:async function(e,t){const s=e[e.findIndex(i=>i.name==="whisper")],r=z[Math.floor(Math.random()*z.length)];try{let i=await x.get(`https://www.reddit.com/r/${r}.json`);i=i.body?.data?.children?.[Math.floor(Math.random()*i.body?.data?.children?.length)]?.data;const c={type:"rich",title:i?.title,url:`https://reddit.com${i?.permalink}`,image:{proxy_url:i?.url_overridden_by_dest??i?.url,url:i?.url_overridden_by_dest??i?.url,width:i?.preview?.images?.[0]?.source?.width,height:i?.preview?.images?.[0]?.source?.height},footer:{text:`Posted by u/${i?.author} in r/${r}`},color:"0xff0069"};if(t?.guild?.id=="950850315601711176"&&s?.value===!1&&(s.value=!0),s?.value??!0){G(t?.channel.id??"0",{content:t?.guild?.id=="950850315601711176"?"anywhere else but this server smh - spin":"",embeds:[c]});return}else return{content:i?.url_overridden_by_dest??i?.url}}catch(i){console.log("[ Gotfeets Error ]",i),G(t?.channel.id??"0","An error occured while fetching and returning the feet image. Check debug logs for more info.")}}},H=[_e],Se={...V,onStart(){K("_age","_confirmed",!1)||_.show({title:"Wait!",body:`This plugin might show content that is not suitable for ages under 18. By clicking "I'm 18 or older" you are stating that you are 18 or older, and spin is not responsible for any content you see.`,confirmText:"I'm 18 or older",cancelText:"I'm under 18",onConfirm:()=>{J("_age","_confirmed",!0)},onCancel:()=>{window.enmity.plugins.disablePlugin("GotFeet")}}),this.commands=H},onStop(){this.commands=[]},patches:[],getSettingsPanel({settings:e}){return n.createElement(de,{manifest:V,settings:e,hasToasts:!1,commands:H})}};Q(Se);
