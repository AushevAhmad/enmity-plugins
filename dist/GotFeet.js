function de(e,t,i){window.enmity.settings.set(e,t,i)}function ge(e,t,i){return window.enmity.settings.get(e,t,i)}function we(e){window.enmity.plugins.registerPlugin(e)}function he(e){window.enmity.plugins.disablePlugin(e)}const g=window.enmity.modules.common.Constants;window.enmity.modules.common.Clipboard,window.enmity.modules.common.Assets,window.enmity.modules.common.Messages,window.enmity.modules.common.Clyde,window.enmity.modules.common.Avatars;const $=window.enmity.modules.common.Native,n=window.enmity.modules.common.React;window.enmity.modules.common.Dispatcher;const p=window.enmity.modules.common.Storage,x=window.enmity.modules.common.Toasts,D=window.enmity.modules.common.Dialog;window.enmity.modules.common.Token;const B=window.enmity.modules.common.REST;window.enmity.modules.common.Settings,window.enmity.modules.common.Users;const fe=window.enmity.modules.common.Navigation;window.enmity.modules.common.NavigationNative,window.enmity.modules.common.NavigationStack,window.enmity.modules.common.Theme,window.enmity.modules.common.Linking;const A=window.enmity.modules.common.StyleSheet;window.enmity.modules.common.ColorMap,window.enmity.modules.common.Components,window.enmity.modules.common.Locale,window.enmity.modules.common.Profiles,window.enmity.modules.common.Lodash,window.enmity.modules.common.Logger,window.enmity.modules.common.Flux,window.enmity.modules.common.SVG,window.enmity.modules.common.Scenes;const{components:o}=window.enmity;o.Alert,o.Button,o.FlatList;const be=o.Image;o.ImageBackground,o.KeyboardAvoidingView,o.Modal,o.Pressable,o.RefreshControl;const ve=o.ScrollView;o.SectionList,o.StatusBar,o.StyleSheet,o.Switch;const w=o.Text;o.TextInput,o.TouchableHighlight;const v=o.TouchableOpacity;o.TouchableWithoutFeedback,o.Touchable;const y=o.View;o.VirtualizedList,o.Form,o.FormArrow,o.FormCTA,o.FormCTAButton,o.FormCardSection,o.FormCheckbox;const L=o.FormDivider;o.FormHint,o.FormIcon,o.FormInput,o.FormLabel,o.FormRadio;const c=o.FormRow,R=o.FormSection;o.FormSelect,o.FormSubLabel;const ye=o.FormSwitch;o.FormTernaryCheckBox,o.FormText,o.FormTextColors,o.FormTextSizes;const F={byProps:(...e)=>window.enmity.modules.filters.byProps(...e),byName:(e,t)=>window.enmity.modules.filters.byName(e,t),byTypeName:(e,t)=>window.enmity.modules.filters.byTypeName(e,t),byDisplayName:(e,t)=>window.enmity.modules.filters.byDisplayName(e,t)};function O(...e){return window.enmity.modules.bulk(...e)}function _e(...e){return window.enmity.modules.getByProps(...e)}window.enmity.modules.common;const ee=e=>{let t=0;for(let i in e)t++;return t};function a(e){return window.enmity.assets.getIDByName(e)}const d={Debug:a("debug"),Retry:a("ic_message_retry"),Failed:a("Small"),Cancel:a("ic_megaphone_nsfw_16px"),Add:a("add_white"),Delete:a("ic_message_delete"),Clear:a("ic_clear_all_24px"),Pencil:a("ic_pencil_24px"),Copy:a("toast_copy_link"),Open:a("ic_leave_stage"),Clipboard:a("pending-alert"),Debug_Command:{Sent:a("ic_application_command_24px"),Clock:a("clock")},Settings:{Toasts:{Context:a("toast_image_saved"),Settings:a("ic_selection_checked_24px")},Self:a("friends_toast_icon"),Share:a("share"),Robot:a("ic_robot_24px"),Commands:a("ic_profile_badge_bot_commands"),Debug:a("ic_rulebook_16px")}},N=e=>{x.open({content:`Copied ${e} to clipboard.`,source:d.Clipboard})},Se=e=>{let t=e.split(`
`).map(i=>{if(i!="")return`"${i.replaceAll(":",'":"').replace(" ","")}",`});return t[0]=`{${t[0]}`,t[ee(t)]=`${t[ee(t)]}}`,t=t.join(""),t=t.replaceAll("undefined",""),t=t.split("").reverse().join("").replace(",","").split("").reverse().join(""),t};async function Ee(){try{let e=await p.getItem("device_list");if(e)return JSON.parse(e);let t=(await B.get("https://gist.githubusercontent.com/adamawolf/3048717/raw/1ee7e1a93dff9416f6ff34dd36b0ffbad9b956e9/Apple_mobile_device_types.txt")).text,i=Se(t);await p.setItem("device_list",i);let s=await p.getItem("device_list");return JSON.parse(s)}catch(e){console.warn(`[SpinsPlugins Local Error \u2014 Issue when getting devices: ${e}]`);return}}async function $e(e,t,i){let s=await Ee();return`**[${e}] Debug Information**
> **Plugin Version:** ${t}
> **Plugin Build:** ${i.split("-")[1]}
> **Discord Build:** ${$.InfoDictionaryManager.Version} (${$.InfoDictionaryManager.Build})
> **Software Version:** ${$.DCDDeviceManager.systemVersion}
> **Device:** ${s[$.DCDDeviceManager.device]}`}const{native:_}=window.enmity;function pe(){_.reload()}_.version,_.build,_.device,_.version;const xe=_e("transitionToGuild");async function De({manifest:e}){const t=`${e.sourceUrl}?${Math.floor(Math.random()*1001)}.js`,i=await(await B.get(t)).text;let s=i.match(/\d\.\d\.\d+/g),r=i.match(/patch\-\d\.\d\.\d+/g);return!s||!r?ne(e.name,e.version):(s=s[0],r=r[0],s!=e.version?te(t,s,r.split("-")[1],e,!1):r!=e.build?te(t,s,r.split("-")[1],e,!0):ne(e.name,e.version))}const te=(e,t,i,s,r)=>{const m=r?i:t;D.show({title:"Update found",body:`A newer ${r?"build":"version"} is available for ${s.name}. ${r?`
The version will remain at ${t}, but the build will update to ${i}.`:""}
Would you like to install ${r?`build \`${i}\``:`version \`${t}\``}  now?`,confirmText:"Update",cancelText:"Not now",onConfirm:()=>Fe(e,m,s,r)})},ne=(e,t)=>{console.log(`[${e}] Plugin is on the latest version, which is ${t}`),x.open({content:`${e} is on latest version (${t})`,source:d.Settings.Toasts.Settings})};async function Fe(e,t,i,s){window.enmity.plugins.installPlugin(e,({data:r})=>{r=="installed_plugin"||r=="overridden_plugin"?D.show({title:`Updated ${i.name}`,body:`Successfully updated to ${s?"build":"version"} \`${t}\`. 
Would you like to reload Discord now?`,confirmText:"Yep!",cancelText:"Not now",onConfirm:()=>{pe()}}):D.show({title:"Error",body:`Something went wrong while updating ${i.name}.`,confirmText:"Report this issue",cancelText:"Cancel",onConfirm:()=>{xe.openURL(`https://github.com/spinfal/enmity-plugins/issues/new?assignees=&labels=bug&template=bug_report.md&title=%5BBUG%5D%20${i.name}%20Update%20Error%3A%20${s?`b${t}`:`v${t}`}`)}})})}const P=window.enmity.modules.common.Components.General.Animated,[I,Pe]=O(F.byProps("transitionToGuild"),F.byProps("setString"));var Ie=({manifest:e})=>{const t=A.createThemedStyleSheet({container:{paddingTop:30,paddingLeft:20,marginBottom:-5,flexDirection:"row"},text_container:{paddingLeft:15,paddingTop:5,flexDirection:"column",flexWrap:"wrap"},image:{width:75,height:75,borderRadius:10},main_text:{opacity:.975,letterSpacing:.25},header:{color:g.ThemeColorMap.HEADER_PRIMARY,fontFamily:g.Fonts.DISPLAY_BOLD,fontSize:25,letterSpacing:.25},sub_header:{color:g.ThemeColorMap.HEADER_SECONDARY,opacity:.975,fontSize:12.75}}),i=n.useRef(new P.Value(1)).current,s=()=>{P.spring(i,{toValue:1.1,duration:250,useNativeDriver:!0}).start()},r=()=>{P.spring(i,{toValue:1,duration:250,useNativeDriver:!0}).start()},m=()=>{I.openURL("https://spin.rip/")},h={transform:[{scale:i}]};return n.createElement(n.Fragment,null,n.createElement(y,{style:t.container},n.createElement(v,{onPress:m,onPressIn:s,onPressOut:r},n.createElement(P.View,{style:[h]},n.createElement(be,{style:[t.image],source:{uri:"https://cdn.spin.rip/r/l9uevwe4ia0.jpg"}}))),n.createElement(y,{style:t.text_container},n.createElement(v,{onPress:()=>{I.openURL(e.sourceUrl)}},n.createElement(w,{style:[t.main_text,t.header]},e.name," ")),n.createElement(y,{style:{flexDirection:"row"}},n.createElement(w,{style:[t.main_text,t.sub_header]},"A plugin by"),n.createElement(v,{onPress:()=>{I.openURL("https://spin.rip/")}},n.createElement(w,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:g.Fonts.DISPLAY_BOLD}]},e.authors[0].name))),n.createElement(y,{style:{flexDirection:"row"}},n.createElement(w,{style:[t.main_text,t.sub_header]},"Settings page by"),n.createElement(v,{onPress:()=>{I.openURL("https://github.com/acquitelol/")}},n.createElement(w,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:g.Fonts.DISPLAY_BOLD}]},"Acquite <3"))),n.createElement(y,null,n.createElement(v,{style:{flexDirection:"row"},onPress:()=>{Pe.setString(`**${e.name}** v${e.version}`),N("plugin name and version")}},n.createElement(w,{style:[t.main_text,t.sub_header]},"Version:"),n.createElement(w,{style:[t.main_text,t.sub_header,{paddingLeft:4,fontFamily:g.Fonts.DISPLAY_BOLD}]},e.version," "))))))};const[Be,oe]=O(F.byProps("transitionToGuild"),F.byProps("setString"));var Le=({manifest:e,settings:t,hasToasts:i,section:s,commands:r})=>{const m=A.createThemedStyleSheet({bottom_padding:{paddingBottom:25},icon:{color:g.ThemeColorMap.INTERACTIVE_NORMAL},item:{color:g.ThemeColorMap.TEXT_MUTED},text_container:{display:"flex",flexDirection:"column"}}),[h,S]=n.useState(),[f,E]=n.useState();return n.createElement(n.Fragment,null,n.createElement(ve,{onTouchStart:u=>{S(u.nativeEvent.pageX),E(u.nativeEvent.pageY)},onTouchEnd:u=>{h-u.nativeEvent.pageX<-100&&f-u.nativeEvent.pageY<40&&f-u.nativeEvent.pageY>-40&&fe.pop()}},n.createElement(Ie,{manifest:e}),s,r&&n.createElement(R,{title:"Plugin Commands"},r.map(u=>n.createElement(c,{label:`/${u.name}`,subLabel:u.description,leading:n.createElement(c.Icon,{style:m.icon,source:d.Settings.Commands}),trailing:c.Arrow,onPress:function(){oe.setString(`/${u.name}`),N(`the command ${u.name}`)}}))),n.createElement(R,{title:"Utility"},i&&n.createElement(n.Fragment,null,n.createElement(c,{label:"Initialization Toasts",leading:n.createElement(c.Icon,{style:m.icon,source:d.Settings.Toasts.Context}),subLabel:`If available, show toasts when ${e.name} is starting`,trailing:n.createElement(ye,{value:t.getBoolean(`${e.name}-toastEnable`,!1),onValueChange:()=>{t.toggle(`${e.name}-toastEnable`,!1),x.open({content:`Successfully ${t.getBoolean(`${e.name}-toastEnable`,!1)?"enabled":"disabled"} initialization toasts.`,source:d.Settings.Toasts.Settings})}})}),n.createElement(L,null)),n.createElement(c,{label:"Copy Debug Info",subLabel:`Copy useful debug information of ${e.name} to clipboard.`,leading:n.createElement(c.Icon,{style:m.icon,source:d.Settings.Debug}),trailing:c.Arrow,onPress:async function(){oe.setString(await $e(e.name,e.version,e.build)),N("plugin debug information")}}),n.createElement(L,null),n.createElement(c,{label:"Clear Device List Cache",subLabel:"Remove the fetched device list storage. This will not clear Discord's or your iDevice's cache.",leading:n.createElement(c.Icon,{style:m.icon,source:d.Delete}),trailing:c.Arrow,onPress:async function(){await p.removeItem("device_list"),x.open({content:"Cleared device list storage.",source:d.Settings.Toasts.Settings})}})),n.createElement(R,{title:"Source"},n.createElement(c,{label:"Check for Updates",subLabel:`Check for any plugin updates for ${e.name}.`,leading:n.createElement(c.Icon,{style:m.icon,source:d.Copy}),trailing:c.Arrow,onPress:()=>{De({manifest:e})}}),n.createElement(L,null),n.createElement(c,{label:"Source",subLabel:`View ${e.name} source code`,leading:n.createElement(c.Icon,{style:m.icon,source:d.Open}),trailing:c.Arrow,onPress:()=>{Be.openURL(`https://github.com/spinfal/enmity-plugins/tree/master/${e.name}`)}})),n.createElement(c,{style:m.bottom_padding,label:`Plugin Version: ${e.version}
Plugin Build: ${e.build.split("-").pop()}`})))},Re="GotFeet",Ne="1.0.1",Me="patch-1.0.0",Ce="Get a post of some feet from r/feet",Ue=[{name:"spin",id:"308440976723148800"}],Te="#ff0069",ke="https://raw.githubusercontent.com/spinfal/enmity-plugins/master/dist/GotFeet.js",ie={name:Re,version:Ne,build:Me,description:Ce,authors:Ue,color:Te,sourceUrl:ke};function le(e,t,i,s){window.enmity.clyde.sendReply(e,t,i,s)}var se;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.Guild=1]="Guild",e[e.DM=2]="DM"})(se||(se={}));var M;(function(e){e[e.Chat=1]="Chat",e[e.User=2]="User",e[e.Message=3]="Message"})(M||(M={}));var C;(function(e){e[e.BuiltIn=0]="BuiltIn",e[e.BuiltInText=1]="BuiltInText",e[e.BuiltInIntegration=2]="BuiltInIntegration",e[e.Bot=3]="Bot",e[e.Placeholder=4]="Placeholder"})(C||(C={}));var re;(function(e){e[e.Role=1]="Role",e[e.User=2]="User"})(re||(re={}));var U;(function(e){e[e.SubCommand=1]="SubCommand",e[e.SubCommandGroup=2]="SubCommandGroup",e[e.String=3]="String",e[e.Integer=4]="Integer",e[e.Boolean=5]="Boolean",e[e.User=6]="User",e[e.Channel=7]="Channel",e[e.Role=8]="Role",e[e.Mentionnable=9]="Mentionnable",e[e.Number=10]="Number",e[e.Attachment=11]="Attachment"})(U||(U={}));var ae;(function(e){e[e.ApplicationCommand=2]="ApplicationCommand",e[e.MessageComponent=3]="MessageComponent"})(ae||(ae={}));const ce=["feet","feetpics","NSFW_Feet","Feet_NSFW"],Ve={id:"feet-command",name:"feet",displayName:"feet",description:"Get an image of a feet",displayDescription:"Get an image of a feet",type:M.Chat,inputType:C.BuiltInText,options:[{name:"whisper",displayName:"whisper",description:"Only you can see the result",displayDescription:"Only you can see the result",type:U.Boolean,required:!1}],execute:async function(e,t){var i,s,r,m,h,S,f,E,u,T,k,V,G,Y,j,W,z,H,q,X,J,K,Q;const b=e[e.findIndex(l=>l.name==="whisper")],Z=ce[Math.floor(Math.random()*ce.length)];try{let l=await B.get(`https://www.reddit.com/r/${Z}.json`);l=(f=(S=(s=(i=l.body)==null?void 0:i.data)==null?void 0:s.children)==null?void 0:S[Math.floor(Math.random()*((h=(m=(r=l.body)==null?void 0:r.data)==null?void 0:m.children)==null?void 0:h.length))])==null?void 0:f.data;const ue={type:"rich",title:l==null?void 0:l.title,url:`https://reddit.com${l==null?void 0:l.permalink}`,image:{proxy_url:(E=l==null?void 0:l.url_overridden_by_dest)!=null?E:l==null?void 0:l.url,url:(u=l==null?void 0:l.url_overridden_by_dest)!=null?u:l==null?void 0:l.url,width:(G=(V=(k=(T=l==null?void 0:l.preview)==null?void 0:T.images)==null?void 0:k[0])==null?void 0:V.source)==null?void 0:G.width,height:(z=(W=(j=(Y=l==null?void 0:l.preview)==null?void 0:Y.images)==null?void 0:j[0])==null?void 0:W.source)==null?void 0:z.height},footer:{text:`Posted by u/${l==null?void 0:l.author} in r/${Z}`},color:"0xff0069"};if(((H=t==null?void 0:t.guild)==null?void 0:H.id)=="950850315601711176"&&(b==null?void 0:b.value)===!1&&(b.value=!0),(q=b==null?void 0:b.value)==null||q){le((X=t==null?void 0:t.channel.id)!=null?X:"0",{content:((J=t==null?void 0:t.guild)==null?void 0:J.id)=="950850315601711176"?"anywhere else but this server smh - spin":"",embeds:[ue]});return}else return{content:(K=l==null?void 0:l.url_overridden_by_dest)!=null?K:l==null?void 0:l.url}}catch(l){console.log("[ Gotfeets Error ]",l),le((Q=t==null?void 0:t.channel.id)!=null?Q:"0","An error occured while fetching and returning the feet image. Check debug logs for more info.")}}},me=[Ve],Ge={...ie,onStart(){ge("_age","_confirmed",!1)||D.show({title:"Wait!",body:`This plugin might show content that is not suitable for ages under 18. By clicking "I'm 18 or older" you are stating that you are 18 or older, and spin is not responsible for any content you see.`,confirmText:"I'm 18 or older",cancelText:"I'm under 18",onConfirm:()=>{de("_age","_confirmed",!0)},onCancel:()=>{he("GotFeet")}}),this.commands=me},onStop(){this.commands=[]},patches:[],getSettingsPanel({settings:e}){return n.createElement(Le,{manifest:ie,settings:e,hasToasts:!1,section:null,commands:me})}};we(Ge);
